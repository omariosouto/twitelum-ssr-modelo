{"version":3,"file":"0.d7b8ed4651b0de830023.hot-update.js","sources":["webpack:///src/pages/LoginPage/index.js"],"sourcesContent":["import React, { Component } from 'react'\nimport Widget from '../../components/Widget'\n\nimport './loginPage.css'\n\nclass LoginPage extends Component {\n\n    fazerLogin = (event) => {\n        event.preventDefault()\n\n        // console.log(this.inputLogin.value)\n        // console.log(this.inputSenha.value)\n        const dadosDeLogin = {\n            login: this.inputLogin.value,\n            senha: this.inputSenha.value\n        }\n\n        fetch('http://twitelum-api.herokuapp.com/login', {\n                method: 'POST',\n                body: JSON.stringify(dadosDeLogin),\n            })\n            // .then(dados => console.log(dados))\n            .then((response) => { \n                if (!response.ok)\n                    throw response;\n                return response.json()\n            })\n            .then((responseEmJSON) => {\n                // Devemos criar um cookie que serÃ¡ resgatado no back-end\n                // document.cookie = `X-AUTH-TOKEN=${responseEmJSON.token}`\n                localStorage.setItem('TOKEN', responseEmJSON.token)\n                this.props.history.push('/')\n            })\n            .catch((responseError) => {\n                responseError.json().then((response) => {\n                    console.log(response)\n                })\n            })\n    }\n\n    render() {\n        return (\n            <div className=\"loginPage\">\n                <div className=\"container\">\n                    <Widget>\n                        <h1 className=\"loginPage__title\">Twitelum</h1>\n                        <form className=\"loginPage__form\" action=\"/\" onSubmit={this.fazerLogin}>\n                            <div className=\"loginPage__inputWrap\">\n                                <label className=\"loginPage__label\" htmlFor=\"login\">Login</label> \n                                <input ref={ (inputLogin) => this.inputLogin = inputLogin } className=\"loginPage__input\" type=\"text\" id=\"login\" name=\"login\"/>\n                            </div>\n                            <div className=\"loginPage__inputWrap\">\n                                <label className=\"loginPage__label\" htmlFor=\"senha\">Senha</label> \n                                <input ref={ (inputSenha) => this.inputSenha = inputSenha } className=\"loginPage__input\" type=\"password\" id=\"senha\" name=\"senha\"/>\n                            </div>\n                            {/* <div className=\"loginPage__errorBox\">\n                                Mensagem de erro!\n                            </div> */}\n                            <div className=\"loginPage__inputWrap\">\n                                <button className=\"loginPage__btnLogin\" type=\"submit\">\n                                    Logar\n                                </button>\n                            </div>\n                        </form>\n                    </Widget>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nexport default LoginPage\n\n\n// WEBPACK FOOTER //\n// src/pages/LoginPage/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAFA;AAIA;AAJA;AAMA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAZA;AAFA;AADA;AADA;AA0BA;;;;AA/DA;AACA;AAkEA;;;;A","sourceRoot":""}