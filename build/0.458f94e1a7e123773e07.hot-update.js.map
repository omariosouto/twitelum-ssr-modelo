{"version":3,"file":"0.458f94e1a7e123773e07.hot-update.js","sources":["webpack:///src/store.js"],"sourcesContent":["import { createStore, applyMiddleware, combineReducers } from 'redux'\nimport thunk from 'redux-thunk'\n\nfunction tweetsReducer(state = { lista: [], tweetAtivo: {} }, action = {}) {\n    \n    if(action.type === 'CARREGA_TWEETS') {\n        return {\n            ...state,\n            tweetAtivo: {},\n            lista: action.tweets\n        }\n    }\n\n    if(action.type === 'ADICIONA_TWEET') {\n        state.lista = [action.novoTweet, ...state.lista]\n    }\n\n    if(action.type === 'REMOVE_TWEET') {\n        const listaDeTweetsAtualizada = state.lista.filter( (tweet) => tweet._id !== action.idTweetQueVaiSerRemovido )\n        state.lista = listaDeTweetsAtualizada\n    }\n    \n    if(action.type === 'LIKE') {\n        const listaDeTweetsAtualizada = state.lista.filter((tweet) => {\n            if(tweet._id === action.idTweetLikeado) {\n                const { likeado, totalLikes } = tweet\n\n                if(tweet.likeado) {\n                    tweet.likes = tweet.likes.filter( (like) => like.usuario.login !== action.liker )\n                } else {\n                    tweet.likes = [{ usuario: { login: action.liker } }, ...tweet.likes]\n                }\n\n                tweet.likeado = !likeado\n                tweet.totalLikes = likeado ? totalLikes - 1 : totalLikes + 1\n            }\n            return tweet\n        })\n\n        const tweetAtivoAtualizado = listaDeTweetsAtualizada\n                                        .find((tweet) => tweet._id === state.tweetAtivo._id)\n\n        return {\n            tweetAtivo: { ...tweetAtivoAtualizado } || {},\n            lista: listaDeTweetsAtualizada\n        }\n    }\n\n\n    if(action.type === 'REMOVE_TWEET_ATIVO') {\n        state.tweetAtivo = {}\n        // return Object.assign({}, state, {\n        //     tweetAtivo: {}\n        // })\n    }\n\n    if(action.type === 'ADD_TWEET_ATIVO') {\n        state.tweetAtivo = action.tweetSelecionado\n    }\n\n    return state\n}\n\nfunction notificacaoReducer(state = '', action = {}) {\n    if(action.type === 'ADD_NOTIFICACAO') {\n        state = action.notificacao\n    }\n    if(action.type === 'REMOVE_NOTIFICACAO') {\n        state = ''\n    }\n    return state\n}\n\nfunction usuarioReducer(state = {}, action = {}) {\n    return state\n}\n\nconst configuraStore = (preloadedState) => {\n    return createStore(\n        combineReducers({\n                tweets: tweetsReducer,\n                notificacao: notificacaoReducer,\n                usuario: usuarioReducer\n        }),\n        preloadedState,\n        applyMiddleware(\n            thunk\n        )\n    )\n}\n// window.store = store\nexport default configuraStore\n\n\n// WEBPACK FOOTER //\n// src/store.js"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAUA;AACA;AACA;;;;A","sourceRoot":""}